<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Terrain Rasterizer: Terrain Rasterizer</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="lac.png"/></td>
  <td id="projectalign">
   <div id="projectname">Terrain Rasterizer
   </div>
   <div id="projectbrief">Conversion of GPS data into 2.5D topographic maps</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Terrain Rasterizer </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_README"></a> </p>
<h1><a class="anchor" id="autotoc_md1"></a>
Overview</h1>
<p><b>Terrain Rasterizer</b> is a C++ application designed to transform raw geographic terrain data (latitude, longitude, altitude) into a visual 2D raster image. The project simulates a top-down view of the terrain, applying color mapping based on altitude and 3D shading to create a realistic Digital Elevation Model (DEM) visualization.</p>
<h1><a class="anchor" id="autotoc_md2"></a>
How It Works</h1>
<p>The process is divided into a pipeline of distinct steps:</p>
<ol type="1">
<li><b>Data Loading &amp; Projection</b>: The raw data usually comes in geographic coordinates (Latitude/Longitude). To visualize it on a flat 2D plane (like an image), we must project these spherical coordinates onto a flat surface. This project uses the <b>Lambert93</b> projection (standard for France) via the PROJ library.</li>
<li><b>Triangulation</b>: The projected points are scattered and do not form a solid surface. To create a continuous terrain, we connect these points using <b>Delaunay Triangulation</b>. This creates a "mesh" of non-overlapping triangles that covers the area.</li>
<li><b>Spatial Indexing (<a class="el" href="classQuadTree.html" title="A recursive QuadTree structure for spatial indexing of triangles.">QuadTree</a>)</b>: When generating the image, we check thousands or millions of pixels. For each pixel, we need to know "which triangle is underneath this?". Searching the entire list of triangles for every pixel is too slow. A <b><a class="el" href="classQuadTree.html" title="A recursive QuadTree structure for spatial indexing of triangles.">QuadTree</a></b> data structure is used to divide the space into smaller regions, making this search extremely fast.</li>
<li><b>Rasterization &amp; Rendering</b>: The program iterates over every pixel in the output image:<ul>
<li>It finds the corresponding triangle.</li>
<li>It calculates the exact altitude of that pixel using <b>Barycentric Interpolation</b> (a weighted average of the triangle's corners).</li>
<li>It assigns a color based on altitude (using a Haxby color map).</li>
<li>It calculates lighting/shading based on the slope of the triangle to verify depth perception.</li>
</ul>
</li>
</ol>
<h1><a class="anchor" id="autotoc_md3"></a>
Project Structure</h1>
<p>Here is a breakdown of the key files and their responsibilities:</p>
<ul>
<li>**<code><a class="el" href="main_8cpp.html" title="Main entry point for the terrain rasterizer application.">src/main.cpp</a></code>**: The entry point of the application. It orchestrates the entire workflow: reading arguments, calling the loader, running triangulation, and triggering image generation.</li>
<li>**<code><a class="el" href="MNT_8cpp.html" title="Implementation of data loading and coordinate conversion.">src/MNT.cpp</a></code> (Modèle Numérique de Terrain)**: Handles data ingestion. It reads the input text file and uses the <b>PROJ</b> library to convert coordinates from WGS84 (Lat/Lon) to Lambert93 (X/Y meters).</li>
<li>**<code><a class="el" href="triangulation_8cpp.html" title="Implementation of Delaunay triangulation using delaunator-cpp.">src/triangulation.cpp</a></code>**: Contains the logic to build the mesh. It uses the <code>delaunator-cpp</code> library to perform the Delaunay triangulation on the cleaned data points.</li>
<li>**<code><a class="el" href="quadtree_8cpp.html" title="Implementation of the QuadTree for spatial indexing.">src/quadtree.cpp</a></code>**: Implements the <b><a class="el" href="classQuadTree.html" title="A recursive QuadTree structure for spatial indexing of triangles.">QuadTree</a></b> data structure. This is an optimization engine. It recursively splits the 2D space into four quadrants (NW, NE, SW, SE) to store triangles, allowing for efficient spatial queries.</li>
<li>**<code><a class="el" href="rasterizer_8cpp.html" title="Implementation of the rasterization process (coloring, shading, and image generation).">src/rasterizer.cpp</a></code>**: The rendering engine. It:<ul>
<li>Maps pixel coordinates to terrain coordinates.</li>
<li>Performs <b>Barycentric Interpolation</b> to find the Z (altitude) value for any point inside a triangle.</li>
<li>Applies a <b>Haxby color map</b> (Deep Blue -&gt; Green -&gt; Brown -&gt; White) to represent elevation.</li>
<li>Computes <b>Shading</b> (Simulated Light) based on the surface normal of each triangle to give a 3D relief effect.</li>
<li>Saves the final result as a binary <b>PPM</b> image.</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md4"></a>
Building the Project</h1>
<p>This project uses <b>CMake</b>. Ensure you have CMake, a C++ compiler, and the <b>PROJ</b> library installed on your system.</p>
<h2><a class="anchor" id="autotoc_md5"></a>
Prerequisites (Linux)</h2>
<div class="fragment"><div class="line">sudo apt-get install cmake g++ libproj-dev</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md6"></a>
Compilation</h2>
<p>Run the provided build script or use standard CMake commands:</p>
<div class="fragment"><div class="line"># Using the helper script</div>
<div class="line">./build.sh</div>
<div class="line"> </div>
<div class="line"># OR manually</div>
<div class="line">mkdir build</div>
<div class="line">cd build</div>
<div class="line">cmake ..</div>
<div class="line">make</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md7"></a>
Usage</h1>
<p>Run the executable <code>create_raster</code> with the path to your data file and the desired image width.</p>
<div class="fragment"><div class="line">./build/create_raster &lt;path_to_data_file&gt; &lt;image_width&gt;</div>
</div><!-- fragment --><p><b>Example:</b> </p><div class="fragment"><div class="line">./build/create_raster data/terrain_data.txt 1000</div>
</div><!-- fragment --><p> This command will read <code>data/terrain_data.txt</code>, generate a 1000-pixel wide image, and save it as <code>output.ppm</code>.</p>
<h1><a class="anchor" id="autotoc_md8"></a>
Output</h1>
<p>The program produces a file named <code>output.ppm</code> in the working directory. A PPM (Portable Pixel Map) file can be opened by most image viewers (like GIMP, IrfanView, or standard Linux image viewers). </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
